<html><head>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<!--SafClassName="docSection1Title"--><!--SafTocEntry="12.2 The Basis for the CBAM"-->
<link rel="STYLESHEET" type="text/css" href="FILES/style.css">
<link rel="STYLESHEET" type="text/css" href="FILES/docsafari.css">
<style type="text/css">	.tt1    {font-size: 10pt;}</style>
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<td class="tt1"><a href="NFO/lib.html">[ Team LiB ]</a></td><td valign="top" class="tt1" align="right">
	<a href="0321154959_ch12lev1sec1.html"><img src="FILES/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
	<a href="0321154959_ch12lev1sec3.html"><img src="FILES/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</td></table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td valign="top"><A NAME="ch12lev1sec2"></A><H3 class="docSection1Title">12.2 The Basis for the CBAM</H3>
<P class="docText">We now describe the key ideas that form the basis for the CBAM. The practical realization of these ideas as a series of steps will be described in <A class="docLink" HREF="0321154959_ch12lev1sec3.html#ch12lev1sec3">Section 12.3</A>. Our goal here is to develop the theory underpinning a measure of ROI for various architectural strategies in light of scenarios chosen by the stakeholders.</P>
<P class="docText">We begin by considering a collection of scenarios generated either as a portion of an ATAM or especially for the CBAM evaluation. We examine how they differ in the values of their projected responses and then assign utility to those values. The utility is based on the importance of each scenario being considered with respect to its anticipated response value. We next consider the architectural strategies that lead to the various projected responses. Each strategy has a cost, and each impacts multiple quality attributes. That is, an architectural strategy could be implemented to achieve some projected response, but while achieving that response it also affects some other quality attributes. The utility of these "side effects" must be taken into account when considering a strategy's overall utility. It is this overall utility that we combine with the project cost of an architectural strategy to calculate a final ROI measure.</P>
<A NAME="ch12lev2sec1"></A><H4 class="docSection2Title"> UTILITY</H4>
<P class="docText">Utility is determined by considering the issues described in the following sections.</P>
<A NAME="ch12lev3sec1"></A><H5 class="docSection3Title"> Variations of Scenarios</H5>
<P class="docText">The CBAM uses scenarios as a way to concretely express and represent specific quality attributes, just as in the ATAM. Also as in the ATAM, we structure scenarios into three parts: stimulus (an interaction with the system), environment (the system's state at the time), and response (the measurable quality attribute that results). However, there is a difference between the methods: The CBAM actually uses a <span class="docEmphasis">set</span> of scenarios (generated by varying the values of the responses) rather than individual scenarios as in the ATAM. This leads to the concept of a utility-response curve.</P>

<A NAME="ch12lev3sec2"></A><H5 class="docSection3Title"> Utility-Response Curves</H5>
<P class="docText">Every stimulus-response value pair in a scenario provides some utility to the stakeholders, and the utility of different possible values for the response can be compared. For example, a very high availability in response to failure might be valued by the stakeholders only slightly more than moderate availability. But low latency might be valued substantially more than moderate latency. We can portray each relationship between a set of utility measures and a corresponding set of response measures as a graph—a utility-response curve. Some examples of utility-response curves are shown in <A class="docLink" HREF="#ch12fig02">Figure 12.2</A>. In each, points labeled a, b, or c represent different response values. The utility-response curve thus shows utility as a function of the response value.</P>
<CENTER><H5 class="docFigureTitle"><A NAME="ch12fig02"></A>Figure 12.2. Some sample utility-response curves</H5><p class="docText"><IMG BORDER="0" WIDTH="500" HEIGHT="447" src="FILES/12fig02.gif" ALT="graphics/12fig02.gif"></p>
</CENTER>
<P class="docText">The utility-response curve depicts how the utility derived from a particular response varies as the response varies. As seen in <A class="docLink" HREF="#ch12fig02">Figure 12.2</A>, the utility could vary nonlinearly, linearly, or even as a step-function. For example, graph (c) portrays a steep rise in utility over a narrow change in a quality attribute response level, such as the performance example stated above. The availability example might be better characterized by graph (a), where a modest change in the response level results in only a very small change in utility to the user.</P>
<P class="docText">Eliciting the utility characteristics from the stakeholders can be a long and tedious process. To make it practical we have chosen to elicit only rough approximations of these curves from the stakeholders, using five values of the quality attribute response for the scenario. We now explain the four of these values that can be derived without consideration of any architectural strategy. The fifth value depends on the architectural strategy used, and we discuss this later.</P>
<P class="docText">To build the utility-response curve, we first determine the quality attribute levels for the best-case and worst-case situations. The best-case quality attribute level is that above which the stakeholders foresee no further utility. For example, a system response to the user of 0.1 second is perceived as instantaneous, so improving it further so that it responds in 0.03 second has no utility. Similarly, the worst-case quality attribute level is a minimum threshold above which a system <span class="docEmphasis">must</span> perform; otherwise it is of no use to the stakeholders. These levels—best-case and worst-case—are assigned utility values of 100 and 0, respectively.</P>
<P class="docText">We must then determine the <span class="docEmphasis">current</span> and <span class="docEmphasis">desired</span> utility levels for the scenario. The respective utility values (between 0 and 100) for the current and desired cases are elicited from the stakeholders, using the best-case and worst-case values as reference points (e.g., we are currently half as good as we would like to be, but if we reach the desired quality attribute level, we will have 90% of the maximum utility; hence, the current utility level is set to 50 and the desired utility level is set to 90). In this manner the curves are generated for all of the scenarios.</P>

<A NAME="ch12lev3sec3"></A><H5 class="docSection3Title"> Priorities of Scenarios</H5>
<P class="docText">Different scenarios within a given system have different levels of importance to the stakeholders and hence different utilities. To characterize the relative importance of each scenario, a weight is assigned through a two-step voting exercise. In the first step the stakeholders vote on the scenarios to establish an ordering among them. This voting is based on each scenario's "expected" response value. The stakeholders then assign a weight of 1 to the highest-rated scenario and a fractional amount to the other scenarios based on their relative importance.</P>
<P class="docText">If, at some future date, additional scenarios need to be added, they can be assigned a weight. The stakeholders, through consensus, can make sure that the scenarios weights accord with their intuition.</P>

<A NAME="ch12lev3sec4"></A><H5 class="docSection3Title"> Architectural Strategies</H5>
<P class="docText">It is the job of the architect, or architects, to determine the architectural strategies for moving from the <span class="docEmphasis">current</span> quality attribute response level to the <span class="docEmphasis">desired</span> or even <span class="docEmphasis">best-case</span> level. A portion of the CBAM is devoted to this task. For each strategy, we can derive</P>
<UL>
<LI><P class="docList">the expected value of the response in each scenario. The utility of the expected value is calculated using interpolation from the four values already elicited from the stakeholders.</P></LI>
<LI><P class="docList">the effect of the architectural strategy on other attributes of interest.</P></LI>
<LI><P class="docList">a cost estimate for implementing the architectural strategy.</P></LI>
</UL>
<A NAME="ch12lev4sec1"></A><H5 class="docSection4Title"> Side effects</H5>
<P class="docText">Each architectural strategy will impact not only the quality attribute from the scenario being considered currently but will typically also affect other quality attributes (this is why there are architectural tradeoffs!). It is important to determine the utility of these additional <span class="docEmphasis">side effect</span> attribute responses that arise as a result of applying the architectural strategy. In the worst case, we must create a new version of the scenario for the side effect attribute and determine its utility-response curve. However, in practice, if the quality attribute is important to the stakeholders, then it has occurred in one of the other scenarios and the utility-response curve has already been constructed for that response. In this case, the only thing left to determine is the expected utility associated with that quality attribute for the given architectural strategy. Notice that it is possible that the expected utility for a particular attribute may be negative if the architectural strategy is designed to emphasize an attribute in conflict with the one whose utility we are currently calculating.</P>
<P class="docText">Once this additional information has been elicited we can calculate the benefit of applying an architectural strategy by summing its benefits to all relevant quality attributes.</P>

<A NAME="ch12lev4sec2"></A><H5 class="docSection4Title"> Determining benefit and normalization</H5>
<P class="docText">We calculate the overall utility of an architectural strategy across scenarios from the utility-response curves by summing the utility associated with each one (weighted by the importance of the scenario). For each architectural strategy, <span class="docEmphasis">i</span>, we calculate a benefit, <span class="docEmphasis">B<SUB>i</SUB></span> as follows:</P>
<p class="docText"><IMG BORDER="0" WIDTH="104" HEIGHT="30" src="FILES/12equ01.gif" ALT="graphics/12equ01.gif"></p><br>
<P class="docText">where <span class="docEmphasis">b</span><SUB>i,j</SUB> is the benefit accrued to strategy <span class="docEmphasis">i</span> due to its effect on scenario <span class="docEmphasis">j</span> and <span class="docEmphasis">W<SUB>j</SUB></span> is the weight of scenario <span class="docEmphasis">j</span>. Referring to <A class="docLink" HREF="#ch12fig02">Figure 12.2</A>, each <span class="docEmphasis">b</span><SUB>i,j</SUB> is calculated as the change in utility brought about by the architectural strategy with respect to this scenario: <span class="docEmphasis">b</span><SUB>i,j</SUB> = <span class="docEmphasis">U</span><SUB>expected</SUB> – <span class="docEmphasis">U</span><SUB>current</SUB>; that is, the utility of the expected value of the architectural strategy minus the utility of the current system relative to this scenario. The effect of multiplying the weight, <span class="docEmphasis">W</span><SUB>j</SUB>, is to normalize this utility value by the relative importance of the various scenarios, as already described.</P>



<A NAME="ch12lev2sec2"></A><H4 class="docSection2Title"> CALCULATING ROI</H4>
<P class="docText">The ROI value for each architectural strategy is the ratio of the total benefit, <span class="docEmphasis">B<SUB>i</SUB></span>, to the Cost, <span class="docEmphasis">C<SUB>i</SUB></span>, of implementing it. The cost is calculated using a model appropriate for the system and the environment being developed.</P>
<p class="docText"><IMG BORDER="0" WIDTH="46" HEIGHT="34" src="FILES/12equ02.gif" ALT="graphics/12equ02.gif"></p><br>
<P class="docText">Using this ROI score, the architectural strategies can be rank-ordered; this rank ordering can then be used to determine the optimal order for implementation of the various strategies.</P>
<P class="docText">Consider curves (a) and (b) in <A class="docLink" HREF="#ch12fig02">Figure 12.2</A>. Curve (a) "flattens out" as the quality attribute response improves. In this case, it is likely that a point is reached past which ROI decreases as the quality attribute response improves. In other words, spending more money will not yield a significant increase in utility. On the other hand, consider curve (b), for which a small improvement in quality attribute response can yield a very significant increase in utility. There an architectural strategy whose ROI is too low might rank significantly higher with a modest improvement in its quality attribute response.</P>
<P><A NAME="ch12sb01"></A><TABLE CELLSPACING="0" WIDTH="90%" BORDER="1"><TR><TD>
<H2 class="docSidebarTitle">The Importance of Cost Modeling</H2>
<p class="docText"><span class="docEmphasis">Random visitor:</span> 
You're supposed to know something about availability, aren't you?</p>
<p class="docText"><span class="docEmphasis">Len Bass:</span> 
I know something, but I'm not a real expert.</p>
<p class="docText"><span class="docEmphasis">RV:</span> 
Well, maybe you can help me. I have a problem with how much availability to put into my system. My boss tells me, whenever I have a problem, to look at the Big Stock Broker Company's Web site to get ideas.</p>
<p class="docText"><span class="docEmphasis">LB:</span> 
Well, they have millions of customers and certainly have rigid availability requirements.</p>
<p class="docText"><span class="docEmphasis">RV:</span> 
That's exactly my problem. The system I'm building will have a couple hundred users who are probably happy with five days a week, ten hours a day availability. How do I convince my boss he's going way overboard?</p>
<P class="docText">So far we have presented many techniques for achieving particular qualities, but we have not presented any method for keeping management expectations under control. Our assumption has been that there is a business case for the system under construction. This business case begets particular requirements, and the architect's job is to satisfy them to the extent possible. What is the architect to do when this assumption is false and the requirements are overkill for the business goals of the system?</P>
<P class="docText">After giving the matter some thought, the best I could come up with is that the main weapon the architect has to combat overengineered requirements is the argument of cost. It is the same reason I do not drive a fancy luxury car—I do not want to pay the price.</P>
<P class="docText">Maintaining high availability requires a high level of redundancy with a rollover capability. Developing this capability takes time and personnel. Personnel cost money, as do purchasing highly available software and adapting it for particular needs.</P>
<P class="docText">In software engineering, cost is estimated using cost models. A cost model makes certain assumptions about the character of the system being constructed, environmental parameters, and personnel expertise, and then produces an estimate based on historical data.</P>
<P class="docText">Cost models (especially early in the life cycle) are imperfect for a wide variety of reasons, but they are the only tools available to constrain requirements. As such, they are invaluable to the architect.</P>
<P class="docText"><span class="docEmphasis">— LJB</span></P>
</TD></TR></TABLE></P>


<ul></ul>
</td>
</tr>
</table>
<td></td>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<td class="tt1"><a href="NFO/lib.html">[ Team LiB ]</a></td><td valign="top" class="tt1" align="right">
          <a href="0321154959_ch12lev1sec1.html"><img src="FILES/previous.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
          <a href="0321154959_ch12lev1sec3.html"><img src="FILES/next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</td></table>
</body></html>
